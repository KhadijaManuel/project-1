 <template>
  <div class="grid-text-centre">
        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Sibongile Nkosi</h1>
                    <p>Software Engineer</p>
                    <p>Development Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance1" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll1" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R69,500</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Lungile Moyo</h1>
                    <p>HR Manager</p>
                    <p>Human Resources</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance2" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll2" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R79,000</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Thabo Molefe</h1>
                    <p>Quality Analyst</p>
                    <p>Quality Assurance</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance3" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll3" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R54,800</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Keshav Naidoo</h1>
                    <p>Sales Representative</p>
                    <p>Sales Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance4" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll4" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R59,700</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Zanele Khumalo</h1>
                    <p>Marketing Specialist</p>
                    <p>Marketing Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance5" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll5" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R57,850</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Sipho Zulu</h1>
                    <p>UI/UX Designer</p>
                    <p>Design Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance6" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll6" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R64,800</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Naledi Moeketsi</h1>
                    <p>DevOps Engineer</p>
                    <p>IT Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance7" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll7" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R71,800</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Farai Gumbo</h1>
                    <p>Content Strategist</p>
                    <p>Marketing Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance8" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll8" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R56,000</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Karabo Dlamini</h1>
                    <p>Accountant</p>
                    <p>Finance Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance9" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll9" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R61,500</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <h1>Fatima Patel</h1>
                    <p>Customer Support Lead</p>
                    <p>Support Department</p>
                </div>
                <div class="flip-card-back">
                    <div class="performance-content">
                        <h3>Performance Review</h3>
                        <div class="chart-container">
                            <canvas id="attendance10" class="chart"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="payroll10" class="chart"></canvas>
                        </div>
                        <div class="stats">
                            <p><strong>Attendance:</strong> 80% | <strong>Salary:</strong> R57,750</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

 </template>


<script>

   import Chart from 'chart.js/auto'

export default {
  name: 'EmployeesCards',
  data() {
    return {
      employees: [
        {
          id: 1,
          name: "Sibongile Nkosi",
          position: "Software Engineer",
          department: "Development",
          finalSalary: 69500,
          attendanceRate: 80,
          attendanceData: [1, 0, 1, 1, 1],
          salaryData: [69500, 70000, 69000, 69500, 70200]
        },
        {
          id: 2,
          name: "Lungile Moyo",
          position: "HR Manager",
          department: "Human Resources",
          finalSalary: 79000,
          attendanceRate: 80,
          attendanceData: [1, 1, 0, 1, 1],
          salaryData: [79000, 79500, 78800, 79000, 79300]
        },
        {
          id: 3,
          name: "Thabo Molefe",
          position: "Quality Analyst",
          department: "Quality Assurance",
          finalSalary: 54800,
          attendanceRate: 80,
          attendanceData: [1, 1, 1, 0, 1],
          salaryData: [54800, 55000, 54600, 54800, 55100]
        },
        {
          id: 4,
          name: "Keshav Naidoo",
          position: "Sales Representative",
          department: "Sales",
          finalSalary: 59700,
          attendanceRate: 80,
          attendanceData: [0, 1, 1, 1, 1],
          salaryData: [59700, 60000, 59400, 59700, 60000]
        },
        {
          id: 5,
          name: "Zanele Khumalo",
          position: "Marketing Specialist",
          department: "Marketing",
          finalSalary: 57850,
          attendanceRate: 80,
          attendanceData: [1, 1, 0, 1, 1],
          salaryData: [57850, 58000, 57700, 57850, 58100]
        },
        {
          id: 6,
          name: "Sipho Zulu",
          position: "UI/UX Designer",
          department: "Design",
          finalSalary: 64800,
          attendanceRate: 80,
          attendanceData: [1, 1, 0, 1, 1],
          salaryData: [64800, 65000, 64600, 64800, 65100]
        },
        {
          id: 7,
          name: "Naledi Moeketsi",
          position: "DevOps Engineer",
          department: "IT",
          finalSalary: 71800,
          attendanceRate: 80,
          attendanceData: [1, 1, 1, 0, 1],
          salaryData: [71800, 72000, 71600, 71800, 72100]
        },
        {
          id: 8,
          name: "Farai Gumbo",
          position: "Content Strategist",
          department: "Marketing",
          finalSalary: 56000,
          attendanceRate: 80,
          attendanceData: [1, 0, 1, 1, 1],
          salaryData: [56000, 56200, 55800, 56000, 56300]
        },
        {
          id: 9,
          name: "Karabo Dlamini",
          position: "Accountant",
          department: "Finance",
          finalSalary: 61500,
          attendanceRate: 80,
          attendanceData: [1, 1, 1, 0, 1],
          salaryData: [61500, 61700, 61300, 61500, 61800]
        },
        {
          id: 10,
          name: "Fatima Patel",
          position: "Customer Support Lead",
          department: "Support",
          finalSalary: 57750,
          attendanceRate: 80,
          attendanceData: [1, 1, 0, 1, 1],
          salaryData: [57750, 58000, 57500, 57750, 58000]
        }
      ]
    }
  },
  mounted() {
    this.createCharts()
  },
  methods: {
    createCharts() {
      this.employees.forEach((employee) => {
        // Attendance chart
        const attendanceCtx = document.getElementById(`attendance${employee.id}`)
        if (attendanceCtx) {
          new Chart(attendanceCtx, {
            type: 'line',
            data: {
              labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
              datasets: [{
                label: 'Attendance',
                data: employee.attendanceData,
                borderColor: '#3498db',
                backgroundColor: 'rgba(52, 152, 219, 0.1)',
                tension: 0.3,
                fill: true
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: { 
                legend: { display: false },
                title: {
                  display: true,
                  text: 'Weekly Attendance',
                  font: { size: 10 }
                }
              },
              scales: {
                x: { 
                  display: true,
                  ticks: { font: { size: 8 } }
                },
                y: { 
                  display: true,
                  min: 0, 
                  max: 1,
                  ticks: { 
                    font: { size: 8 },
                    callback: function(value) {
                      return value === 1 ? 'Present' : 'Absent'
                    }
                  }
                }
              }
            }
          })
        }

        // Payroll chart
        const payrollCtx = document.getElementById(`payroll${employee.id}`)
        if (payrollCtx) {
          new Chart(payrollCtx, {
            type: 'line',
            data: {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
              datasets: [{
                label: 'Salary',
                data: employee.salaryData,
                borderColor: '#e74c3c',
                backgroundColor: 'rgba(231, 76, 60, 0.1)',
                tension: 0.3,
                fill: true
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: { 
                legend: { display: false },
                title: {
                  display: true,
                  text: 'Monthly Salary',
                  font: { size: 10 }
                }
              },
              scales: {
                x: { 
                  display: true,
                  ticks: { font: { size: 8 } }
                },
                y: { 
                  display: true,
                  ticks: { 
                    font: { size: 8 },
                    callback: function(value) {
                      return 'R' + value.toLocaleString()
                    }
                  }
                }
              }
            }
          })
        }
      })
    }
  }
}
</script>

     <style>
        .grid-text-centre {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .flip-card {
            background-color: transparent;
            width: 250px;
            height: 300px;
            perspective: 1000px;
            margin: 0 auto;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .flip-card-front {
            background-color: #2980b9;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .flip-card-back {
            background-color: #f9f9f9;
            color: #333;
            transform: rotateY(180deg);
            padding: 15px;
            overflow-y: auto;
        }

        .flip-card-front h1 {
            margin: 0 0 10px 0;
            font-size: 20px;
        }

        .flip-card-front p {
            margin: 5px 0;
            font-size: 14px;
        }

        .performance-content h3 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #2980b9;
            text-align: center;
        }

        .chart-container {
            height: 80px;
            margin-bottom: 10px;
        }

        .chart {
            height: 80px !important;
        }

        .stats {
            font-size: 11px;
            text-align: center;
            margin-top: 10px;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .grid-text-centre {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .flip-card {
                width: 200px;
                height: 250px;
            }
        }
    </style>
